<!DOCTYPE html>
<html>
<head>
</head>
<body>
    ooh heck!
    <form>
        <input name="coupon" type="text" id="couponInputValue">
    </form>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
    // /promotion?couponURLParam=xxxcodexxx
    // if present, put it's value in the form
    var urlParams;
    
    (window.onpopstate = function () {
        var match,
            pl     = /\+/g,  // Regex for replacing addition symbol with a space
            search = /([^&=]+)=?([^&]*)/g,
            decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
            query  = window.location.search.substring(1);

        urlParams = {};
        while (match = search.exec(query))
           urlParams[decode(match[1])] = decode(match[2]);
    })();
    
    function insertCouponValue() {
        var couponInputVal = (urlParams['coupon']);
        document.getElementById('couponInputValue').value = couponInputVal;
    }
    $(document).ready(function() {
      insertCouponValue();
      
    });
    
</script>
</body>
</html>
